<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>To the people who made my first quiz bee and robotics inclined contest memorable</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
  body {
    margin: 0;
    font-family: "Inter", sans-serif;
    background: linear-gradient(135deg, #ffffff, #280581);
    overflow-y: auto;
  }

  #app {
    position: relative;
    width: 100%;
    min-height: 100vh;
  }

  #canvas-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0; 
    pointer-events: none;
  }

  #content {
    position: relative;
    z-index: 10;
    width: 90%;
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem 1rem;
    box-sizing: border-box;
  }

  .step {
    background: rgba(255, 255, 255, 0.509);
    backdrop-filter: blur(10px);
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    padding: 2rem;
    margin-bottom: 2rem;
    text-align: center;
    display: none; 
  }

  .step.active {
    display: block; 
  }

  .btn {
    background: linear-gradient(135deg, #7948ec, #4e3ff4);
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 50px;
    font-weight: 600;
    cursor: pointer;
    margin-top: 1rem;
    box-shadow: 0 4px 15px rgba(113, 72, 236, 0.3);
    transition: all 0.3s ease;
  }

  .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(91, 72, 236, 0.4);
  }

  .btn:active {
    transform: translateY(0);
  }

  .text-gradient {
    background: linear-gradient(135deg, #5b48ec, #3f42f4, #f59e0b);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  .heart-beat {
    animation: heartbeat 1.5s ease-in-out infinite;
  }

  @keyframes heartbeat {
    0% {
      transform: scale(1);
    }

    25% {
      transform: scale(1.1);
    }

    50% {
      transform: scale(1);
    }

    75% {
      transform: scale(1.1);
    }

    100% {
      transform: scale(1);
    }
  }

  .emoji {
    font-size: 3rem;
    margin-bottom: 1rem;
    display: inline-block;
  }

  .reason-card {
    background: white;
    border-radius: 15px;
    padding: 1rem;
    margin: 0.5rem 0;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
  }

  .reason-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
  }

  #progress-container {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    width: 80%;
    max-width: 400px;
    height: 6px;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 3px;
    z-index: 100;
  }

  #progress-bar {
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, #4848ec, #453ff4);
    border-radius: 3px;
    transition: width 0.5s ease;
  }

  @media (min-width: 768px) {
    .reason-card {
      margin: 0.5rem;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
    }
  }

  #mute-toggle-btn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 1000;
    padding: 0.75rem 1.5rem;
    background: linear-gradient(135deg, #7948ec, #4e3ff4);
    color: white;
    border: none;
    border-radius: 50px;
    font-weight: 600;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(113, 72, 236, 0.3);
    transition: all 0.3s ease;
  }

  #mute-toggle-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(91, 72, 236, 0.4);
  }

  #mute-toggle-btn:active {
    transform: translateY(0);
  }
</style>
</head>

<body>
<div id="app">
  <div id="canvas-container"></div>

  <div id="progress-container">
    <div id="progress-bar"></div>
  </div>

  <div id="content">
    <!-- Step 1 -->
    <div class="step active" id="step1">
      <div class="emoji heart-beat">üòé</div>
      <h1 class="text-4xl md:text-5xl font-bold mb-6 text-gradient">If u see this isa kang sigma</h1>
      <p class="text-xl text-gray-700 mb-8">Blablablableblebleblublubluuu</p>
      <button class="btn" id="start-btn">Letsss Jayyyy</button>
    </div>

    <!-- Step 2 -->
    <div class="step" id="step2">
      <div class="emoji">üéâ</div>
      <h2 class="text-3xl md:text-4xl font-bold mb-6 text-gradient">Thank you so much Sir Rey, Ate Jia, Ate Abi!</h2>
      <p class="text-lg text-gray-700 mb-6">
        For making my first experience ani na sort of contest super memorable, na biskag daghan na kaayog downs nahitabo prior the competition jay na jay jud gihapon. I learned alot jud ani na experience nga dili lang about programming, internet of things, and other stuff but also sa kanang multiple things na idk how to word HAHAHA patience siguro.
        The odds may not have been in our favor jud but I‚Äôm still thankful to have spent the month learning with y‚Äôall fueee. I really enjoyed the process like bahalag girls' instinct nalang jud to during the actual, naa man sad nabitbit na many things we didn‚Äôt know about at first through mga klase ni Sir Rey and naka bonding jud ta ninyo soafer.ü´∂
      </p>
      <button class="btn" id="next-btn-2">Moral of the storyyyyyy</button>
    </div>

    <!-- Step 3 -->
    <div class="step" id="step3">
      <h2 class="text-3xl md:text-4xl font-bold mb-8 text-gradient">Why y‚Äôall put cheese on my cheeseburger?</h2>
      <div class="grid">
        <div class="reason-card">
          <div class="emoji text-3xl">üëΩ</div>
          <h3 class="text-xl font-bold mb-2 text-pink-600">Sir Rey.</h3>
          <p class="text-gray-700">peak performative frfr istg istg.</p>
        </div>
        <div class="reason-card">
          <div class="emoji text-3xl">üèÉ</div>
          <h3 class="text-xl font-bold mb-2 text-pink-600">Ate Jia</h3>
          <p class="text-gray-700">pwede na mag electrical engineer.</p>
        </div>
        <div class="reason-card">
          <div class="emoji text-3xl">‚ú®</div>
          <h3 class="text-xl font-bold mb-2 text-pink-600">Ate Abi</h3>
          <p class="text-gray-700">pwede na mag computer science.</p>
        </div>
      </div>
      <button class="btn" id="next-btn-3">Anodah wan</button>
    </div>

    <!-- Step 4 -->
    <div class="step flex justify-center items-center min-h-[20rem]" id="step4">
      <div class="text-center">
        <div class="emoji mb-4">üì∏</div>
        <h2 class="text-3xl md:text-4xl font-bold mb-6 text-gradient">Best coping mechanism</h2>
        <div class="bg-gradient-to-r from-[#FFF9B1] to-[#A8D8FF] rounded-xl p-6 mb-6 flex justify-center items-center mx-auto" style="width: 280px; height: 186px;">
          <video autoplay muted loop class="w-[280px] h-[186px] object-cover rounded-lg shadow-lg">
            <source src="this_video.mp4" type="video/mp4" />
            Your browser does not support the video tag.
          </video>
        </div>
        <p class="text-lg text-gray-700 mb-6">Look it‚Äôs a bunch of sigmuhsüòé</p>
        <button class="btn" id="next-btn-4">Dawggg press dis</button>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step" id="step5">
      <div class="emoji">ü§ñ</div>
      <h2 class="text-3xl md:text-4xl font-bold mb-6 text-gradient">I Hope Y‚Äôall Know</h2>
      <p class="text-lg text-gray-700 mb-8">
        That I would do all of that again despite the downs because of you goatss. Despite the messy stuff your presence meant alotüôè
      </p>
      <p class="text-xl font-semibold text-pink-600 mb-8">Congrats to us robocuties! ‚ù§Ô∏è</p>
      <button class="btn" id="confetti-btn">Spam click dis</button>
      <p class="mt-8 text-gray-500">Made with‚Ä¶67‚Ä¶</p>
    </div>
  </div>
  <audio id="bg-music" src="Ts pmo.mp3" loop playsinline></audio>
  <button id="mute-toggle-btn">Unmute Music</button>
</div>

<script>
  // Three.js Number Background setup (same as original)
  const container = document.getElementById("canvas-container");
  const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
  renderer.setSize(window.innerWidth, window.innerHeight);
  container.appendChild(renderer.domElement);

  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(
    75,
    window.innerWidth / window.innerHeight,
    0.1,
    1000
  );
  camera.position.z = 30;

  const colors = [
    0xff6b6b, 0xff8e8e, 0xffb3b3, 0xffd8d8, 0xff9e9e, 0xffc1c1, 0xff6b8e,
    0xff8eb3,
  ];

  const numberMeshes = [];
  const loader = new THREE.FontLoader();
  loader.load(
    "https://threejs.org/examples/fonts/helvetiker_regular.typeface.json",
    function (font) {
      const numbers = ["6", "7"];

      for (let i = 0; i < 25; i++) {
        const number = numbers[i % numbers.length];
        const textGeometry = new THREE.TextGeometry(number, {
          font: font,
          size: 2,
          height: 0.5,
          bevelEnabled: true,
          bevelThickness: 0.1,
          bevelSize: 0.1,
          bevelSegments: 3,
        });

        const material = new THREE.MeshPhongMaterial({
          color: colors[Math.floor(Math.random() * colors.length)],
          emissive: 0x111111,
          emissiveIntensity: 0.3,
          shininess: 100,
          transparent: true,
          opacity: 0.85,
        });

        const mesh = new THREE.Mesh(textGeometry, material);

        mesh.position.x = (Math.random() - 0.5) * 50;
        mesh.position.y = (Math.random() - 0.5) * 50;
        mesh.position.z = (Math.random() - 0.5) * 50;

        const scale = Math.random() * 0.8 + 0.5;
        mesh.scale.set(scale, scale, scale);

        mesh.rotation.x = Math.random() * Math.PI;
        mesh.rotation.y = Math.random() * Math.PI;

        mesh.userData = {
          speedX: Math.random() * 0.02 - 0.01,
          speedY: Math.random() * 0.02 - 0.01,
          speedZ: Math.random() * 0.02 - 0.01,
          rotationSpeedX: Math.random() * 0.01,
          rotationSpeedY: Math.random() * 0.01,
          originalX: mesh.position.x,
          originalY: mesh.position.y,
          originalZ: mesh.position.z,
          floatDistance: 2 + Math.random() * 3,
        };

        scene.add(mesh);
        numberMeshes.push(mesh);
      }

      animate();
    }
  );

  // Add lights
  const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
  scene.add(ambientLight);

  const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
  directionalLight.position.set(1, 1, 1);
  scene.add(directionalLight);

  // Animation loop
  function animate() {
    requestAnimationFrame(animate);

    const time = Date.now() * 0.001;

    numberMeshes.forEach((mesh) => {
      mesh.position.x =
        mesh.userData.originalX + Math.sin(time * mesh.userData.speedX * 10) * mesh.userData.floatDistance;
      mesh.position.y =
        mesh.userData.originalY + Math.sin(time * mesh.userData.speedY * 10) * mesh.userData.floatDistance;
      mesh.position.z =
        mesh.userData.originalZ + Math.sin(time * mesh.userData.speedZ * 10) * mesh.userData.floatDistance;

      mesh.rotation.x += mesh.userData.rotationSpeedX;
      mesh.rotation.y += mesh.userData.rotationSpeedY;
    });

    renderer.render(scene, camera);
  }

  // Handle window resize
  window.addEventListener("resize", () => {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });

  // Progress bar update
  function updateProgressBar() {
    const progress = ((currentStep - 1) / (totalSteps - 1)) * 100;
    document.getElementById("progress-bar").style.width = `${progress}%`;
  }

  // Step navigation variables
  let currentStep = 1;
  const totalSteps = 5;

  // Show step: hide all except current
  function showStep(stepNumber) {
    document.querySelectorAll(".step").forEach((step, index) => {
      if (index === stepNumber - 1) {
        step.style.display = "block";
        step.classList.add("active");
      } else {
        step.style.display = "none";
        step.classList.remove("active");
      }
    });
    updateProgressBar();
  }

  // Initial display for step 1
  showStep(1);

  // Button event listeners for navigation
  document.getElementById("start-btn").addEventListener("click", () => {
    currentStep = 2;
    showStep(currentStep);
  });

  document.getElementById("next-btn-2").addEventListener("click", () => {
    currentStep = 3;
    showStep(currentStep);
  });

  document.getElementById("next-btn-3").addEventListener("click", () => {
    currentStep = 4;
    showStep(currentStep);
  });

  document.getElementById("next-btn-4").addEventListener("click", () => {
    currentStep = 5;
    showStep(currentStep);
  });

  // Confetti functionality
  document.getElementById("confetti-btn").addEventListener("click", () => {
    confetti({
      particleCount: 150,
      spread: 70,
      origin: { y: 0.6 },
      colors: ["#00008b", "#ffd700", "#ffffff", "#add8e6"],
    });

    setTimeout(() => {
      confetti({
        particleCount: 30,
        spread: 60,
        origin: { y: 0.5 },
        shapes: ["heart"],
        colors: ["#00008b", "#ffd700"],
      });
    }, 300);

    setTimeout(() => {
      confetti({
        particleCount: 20,
        angle: 60,
        spread: 55,
        origin: { x: 0 },
        shapes: ["heart"],
        colors: ["#00008b", "#ffd700"],
      });

      confetti({
        particleCount: 20,
        angle: 120,
        spread: 55,
        origin: { x: 1 },
        shapes: ["heart"],
        colors: ["#00008b", "#ffd700"],
      });
    }, 600);

    numberMeshes.forEach((mesh) => {
      gsap.to(mesh.position, {
        y: mesh.position.y - 30,
        duration: 3,
        ease: "power1.out",
      });

      gsap.to(mesh.material, {
        opacity: 0,
        duration: 3,
        ease: "power1.out",
      });
    });
  });

const audio = document.getElementById('bg-music');
const btn = document.getElementById('mute-toggle-btn');
let audioContext;
let track;

btn.addEventListener('click', async () => {
  try {
    // Initialize and resume AudioContext on first interaction
    if (!audioContext) {
      audioContext = new (window.AudioContext || window.webkitAudioContext)();
      track = audioContext.createMediaElementSource(audio);
      track.connect(audioContext.destination);
    }
    if (audioContext.state === 'suspended') {
      await audioContext.resume();
    }
    
    if (audio.paused || audio.muted) {
      audio.muted = false;
      await audio.play();  // Explicitly play audio on user interaction
      btn.textContent = 'Mute Music';
    } else {
      audio.pause();
      audio.muted = true;
      btn.textContent = 'Unmute Music';
    }
  } catch (e) {
    console.error('Audio play error:', e);
  }
});

</script>
</body>

</html>

